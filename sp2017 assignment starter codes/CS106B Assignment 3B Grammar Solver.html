
<!-- saved from url=(0060)http://web.stanford.edu/class/cs106b/assn/grammarSolver.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>CS106B</title>

<meta name="viewport" content="width=device-width, initial-scale=1">




<link href="./CS106B Assignment 3B Grammar Solver_files/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="./CS106B Assignment 3B Grammar Solver_files/style.css">

<!-- Java Script -->
<script async="" src="./CS106B Assignment 3B Grammar Solver_files/analytics.js.下载"></script><script src="./CS106B Assignment 3B Grammar Solver_files/jquery.min.js.下载"></script>
<script src="./CS106B Assignment 3B Grammar Solver_files/moment.min.js.下载"></script>
<script src="./CS106B Assignment 3B Grammar Solver_files/bootstrap.min.js.下载"></script>
<script src="./CS106B Assignment 3B Grammar Solver_files/ace.js.下载" type="text/javascript"></script><style id="ace_editor">.ace_editor {position: relative;overflow: hidden;font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;font-size: 12px;line-height: normal;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: text;min-width: 100%;}.ace_dragging, .ace_dragging * {cursor: move !important;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: #f8f8f8;color: #111;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;/* setting pointer-events: auto; on node under the mouse, which changesduring scroll, will break mouse wheel scrolling in Safari */pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0px;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-moz-transition: opacity 0.18s;-webkit-transition: opacity 0.18s;-o-transition: opacity 0.18s;-ms-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;display: block;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}/*** Dark version for fold widgets*/.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-moz-transition: opacity 0.4s ease 0.05s;-webkit-transition: opacity 0.4s ease 0.05s;-o-transition: opacity 0.4s ease 0.05s;-ms-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-moz-transition: opacity 0.05s ease 0.05s;-webkit-transition: opacity 0.05s ease 0.05s;-o-transition: opacity 0.05s ease 0.05s;-ms-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style>
<script src="./CS106B Assignment 3B Grammar Solver_files/specialfx.js.下载" type="text/javascript"></script>

<!-- Stanford -->
<link href="./CS106B Assignment 3B Grammar Solver_files/css" rel="stylesheet" type="text/css">
<link href="./CS106B Assignment 3B Grammar Solver_files/css(1)" rel="stylesheet" type="text/css">

</head>
<body onload="SpecialEffects.setupClickToShowAreas()">

	<!-- Navigation Bar -->
<nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand brand" href="http://web.stanford.edu/class/cs106b/">CS106B</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

        <!--<li><a href="#">Lectures</a></li>-->

        <li class="dropdown">
          <a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Lectures <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/1-Welcome/">1 Welcome</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/2-Functions-BigO/">2 Functions and Intro to Big O</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/3-BigO-Vectors-Grids/">3 Big O, Vectors, Grids</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/4-Strings/">4 Strings</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/5-Stacks_Queues/">5 Stacks and Queues</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/6-Sets_Maps/">6 Sets and Maps </a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/7-IntroToRecursion/">7 Recursive Thinking</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/8-Fractals/">8 Fractals</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/9-RecursiveBacktracking1/">9 Recursive Backtracking 1</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/10-RecursiveBacktracking2/">10 Recursive Backtracking 2</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/11-Sorting/">11 Sorting</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/12-Memoization/">12 Memoization</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/13-Classes/">13 Classes</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/14-Pointers/">14 Pointers</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/15-DynamicAllocation/">15 DynamicAllocation</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/16-LinkedLists/">16 Linked Lists</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/17-ImplementingVector/">17 Implementing Vector</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/18-BinaryHeaps/">18 Binary Heaps</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/19-Trees/">19 Trees</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/20-BinarySearchTrees/">20 Binary Search Trees</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/21-Graphs/">21 Graphs</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/22-Hashing/">22 Hashing</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/23-GraphsII/">23 Graphs II</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/24-BFS_DFS/">24 Breadth First Search and Depth First Search</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/25-Dijkstra_AStar/">25 Dijkstra and A*</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/26-EsotericDataStructures/">26 Esoteric Data Structures</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//lectures/27-Inheritance/">27 C++ Inheritance and Polymorphism</a></li>
            <!--
            <li><a href="//web.stanford.edu/class/cs106b//lectures/28-LastClass/">28 Last Class</a></li>
            -->
          </ul>
        </li>

        <li class="dropdown">
          <a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Handouts <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/1-GeneralInformation.pdf">1 - General Information</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/2-CoursePlacement.pdf">2 - Course Placement</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/3-HonorCode.pdf">3 - Honor Code</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/search.html">Search</a></li>
            <!--
            <li><a href="//web.stanford.edu/class/cs106b//handouts/velociraptorSafety.html">6 - Velociraptor Safety</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/bananagrams.html">7 - Bananagrams</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/midterm.html">8 - Midterm</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/final.html">10 - Final</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/velociraptorSafety.html">Grids and Raptor Safety</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/bananagrams.html">Bananagrams</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/duoslango.html">Duoslango</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/midterm.html">Midterm Info</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/search.html">Search</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//handouts/final.html">Final Info</a></li>-->
          </ul>
        </li>
        <li class="dropdown">
          <a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Assignments <span class="caret"></span></a>
          <ul class="dropdown-menu">
           <!--<li><a href="//web.stanford.edu/class/cs106b//assn/serafini.html">2 Serafini</a></li>
           <li role="separator" class="divider"></li>
           <li><a href="//web.stanford.edu/class/cs106b//assn/contest.html">Contest</a></li>-->
           
            <li><a href="http://web.stanford.edu/class/cs106b//assn/NameHash.html">0 - Name Hash</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//assn/life.html">1 - Game of Life</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b/assn/serafini.html">2 - Serafini</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//assn/recursion.html">3 - Recursion</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//assn/boggle.html">4 - Boggle!</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//assn/patient-queue.html">5 - Patient Queue</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//assn/huffman.html">6 - Huffman Encoding</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//assn/trailblazer.html">7 - Trailblazer</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Sections <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section01.pdf">Section 01</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section01-solutions.pdf">Section 01 Solution</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section02.pdf">Section 02</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section02-solutions.pdf">Section 02 Solution</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section03.pdf">Section 03</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section03-solutions.pdf">Section 03 Solution</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section04.pdf">Section 04</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section04-solutions.pdf">Section 04 Solution</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section05.pdf">Section 05</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section05-solutions.pdf">Section 05 Solution</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section06.pdf">Section 06</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section06-solutions.pdf">Section 06 Solution</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section07.pdf">Section 07</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section07-solutions.pdf">Section 07 Solution</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section08.pdf">Section 08</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//sections/section08-solutions.pdf">Section 08 Solution</a></li>
            <!--
            <li><a href="//web.stanford.edu/class/cs106b//sections/section09.pdf">Section 09</a></li>
            <li><a href="//web.stanford.edu/class/cs106b//sections/section09-solutions.pdf">Section 09 Solution</a></li>
              -->
            <li role="separator" class="divider"></li>
            <li><a href="https://cs198.stanford.edu/cs106/auth/section/SwitchSection.aspx?class=2">Late Signup Form</a></li>
            <li><a href="https://cs198.stanford.edu/cs106/auth/section/SwitchSection.aspx?class=2">Switch sections</a></li>
            <li><a href="https://cs198.stanford.edu/cs106/auth/section/ViewSections.aspx?class=2">List of all section times/locations</a></li>
            <li><a href="https://cs198.stanford.edu/cs106/auth/section/DropClass.aspx?class=2">Drop section</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">YEAH <span class="caret"></span></a>
          <ul class="dropdown-menu">

            <li><a href="http://web.stanford.edu/class/cs106b//yeah/life/yeah_life.pdf">1 - Game of Life</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//yeah/adts/yeah_adts.pdf">2 - Serafini / ADTs</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//yeah/recursion/yeah_recursion.pdf">3 - Recursion</a></li>
	          <li><a href="http://web.stanford.edu/class/cs106b//yeah/pqueue/yeah_pqueue.pdf">5 - PatientQueue</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//yeah/huffman/yeah_huffman.pdf">6 - Huffman</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//yeah/trailblazer/yeah_trailblazer.pdf">7 - Trailblazer (Slides)</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//yeah/trailblazer/yeah_trailblazer_code.zip">7 - Trailblazer (Code)</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Tools <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/overview.html">Course Overview</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/help.html">Help Hours Calendar</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/qt-creator.html">QT Creator</a></li>
            <li><a href="http://web.stanford.edu/class/cs106b//handouts/styleguide.html">Style Guide</a></li>
            <!--<li><a href="//web.stanford.edu/class/cs106b//handouts/diff.html">Example Diff Tool</a></li>-->
           <!--<li><a href=""><i>None yet!</i></a></li>-->

          </ul>
        </li>
       
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a href="http://web.stanford.edu/class/cs106b//handouts/overview.html"><span class="glyphicon glyphicon-apple" aria-hidden="true"></span> Overview</a></li>
      </ul>
      
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

	<div class="container">
			
		<!-- Header -->
		<div class="row">
			<div class="col-sm-12">
				<div id="pageHeader">
					<h1>
						Assignment 3B: Grammar Solver
					</h1>

					<p>
	Assignment by Marty Stepp and Victoria Kirst.
	Based on a problem by Stuart Reges of U of Washington.
					</p><p class="subtleHeading">
						January 27, 2017
				</p></div>
				<hr>
			</div>
		</div>

                <div class="row">
                        <div class="col-sm-12">
<ul class="documentoutline">
	<li><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#description">Description</a></li>
	<li><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#logs">Logs</a></li>
	<li><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#implementation">Implementation</a></li>
	<li><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#style">Style</a></li>
	<li><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#creative">Creative Aspect</a></li>
	<li><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#extrafeatures">Extras</a></li>
	<li><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#faq">FAQ</a></li>
</ul>

<p>
	This problem focuses on recursion.
</p>



<h2 id="files">Files and Links:</h2>

<div class="largefileboxrow">
	<div class="largefilebox">
		<a href="http://web.stanford.edu/class/cs106b/assnFiles/recursion/grammarsolver-starter-files.zip">
			<img src="./CS106B Assignment 3B Grammar Solver_files/icon48-zip.gif" class="largeicon" alt="icon"><br>
			Project Starter ZIP</a> <br>
			(open <span class="filename">GrammarSolver.pro</span>)
	</div>

	<div class="largefilebox">
		<a class="popup honorcodelink" href="http://paperless.stanford.edu/">
			<img src="./CS106B Assignment 3B Grammar Solver_files/icon48-paperless.gif" class="largeicon" alt="icon"><br>
			Turn in</a>:

		<ul>
			<li>
				<img src="./CS106B Assignment 3B Grammar Solver_files/icon_cpp.gif" class="icon" alt="icon">
				<span class="filename">grammarsolver.cpp</span>
			</li>
			<li>
				<img src="./CS106B Assignment 3B Grammar Solver_files/icon_txt.gif" class="icon" alt="icon">
				<span class="filename">mygrammar.txt</span>
			</li>
		</ul>
	</div>

	<div class="largefilebox">
		<a href="http://web.stanford.edu/class/cs106b/assnFiles/recursion/cs106b-recursion-demo.jar">
			<img src="./CS106B Assignment 3B Grammar Solver_files/icon48-jar.gif" class="largeicon" alt="icon"><br>
			Demo JAR</a>
	</div>

</div>


<h2 id="description">Problem Description:</h2>

<p>
	For this part you will write a function for generating random sentences from a grammar.
</p>

<pre class="cpp">Vector&lt;string&gt; <strong>grammarGenerate</strong>(istream&amp; input, string symbol, int times)
</pre>

<p>
	Your function accepts a reference to an input file representing a language grammar, along with a symbol to randomly generate and the number of times to generate it.
	Your function should generate the given number of random expansions of the given symbol and return them as a <code>Vector</code> of strings.
</p>

<p>
	A <em>formal language</em> is a set of words and/or symbols along with a set of rules, collectively called the <em>syntax</em> of the language, defining how those symbols may be used together.
	A <em>grammar</em> is a way of describing the syntax and symbols of a formal language.
	Even programming languages have grammars; here is a link to a <a class="popup" target="_blank" href="http://java.sun.com/docs/books/jls/third_edition/html/grammars.html">formal grammar for the Java language</a>.
</p>

<p>
	Many language grammars are described in a format called <a class="popup" target="_blank" href="http://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form">Backus-Naur Form (BNF)</a>, which is what we'll use on this assignment.
	In BNF, some symbols in a grammar are called <em>terminals</em> because they represent fundamental words of the language.
	A terminal in English might be "boy" or "run" or "Mariana".
	Other symbols of the grammar are called <em>non-terminals</em> and represent high-level parts of the language syntax, such as a noun phrase or a sentence.
	Every non-terminal consists of one or more terminals; for example, the verb phrase "throw a ball" consists of three terminal words.
</p>

<p>
	The BNF description of a language consists of a set of derivation <em>rules</em>, where each rule names a symbol and the legal transformations that can be performed between that symbol and other constructs in the language.
	For example, a BNF grammar for the English language might state that a sentence consists of a noun phrase and a verb phrase, and that a noun phrase can consist of an adjective followed by a noun or just a noun.
	Rules can be described recursively (in terms of themselves).
	For example, a noun phrase might consist of an adjective followed by another noun phrase, such as the phrase "big green tree" which consists of the adjective "big" followed by the noun phrase "green tree".
</p>

<p>
	A BNF grammar is specified as an input file containing one or more rules, each on its own line, of the form:
</p>

<p>
	<code><var>non-terminal</var> ::= <var>rule</var>|<var>rule</var>|<var>rule</var>|...|<var>rule</var></code>
</p>

<p>
	A separator of <code>::=</code> (colon colon equals) divides the non-terminal from its expansion rules.
	There will be exactly one such <code>::=</code> separator per line.
	A <code>|</code> (pipe) separates each rule; if there is only one rule for a given non-terminal, there will be no pipe characters.
	Each rule will consist of one or more whitespace-separated tokens.
</p>

<p>
	The following is a valid example BNF input file describing a small subset of the English language.
	Non-terminal names such as <code>&lt;s&gt;</code>, <code>&lt;np&gt;</code> and <code>&lt;tv&gt;</code> are short for linguistic elements such as sentences, noun phrases, and transitive verbs.
</p>

<pre class="inputfile">&lt;s&gt;::=&lt;np&gt; &lt;vp&gt;
&lt;np&gt;::=&lt;dp&gt; &lt;adjp&gt; &lt;n&gt;|&lt;pn&gt;
&lt;dp&gt;::=the|a
&lt;adjp&gt;::=&lt;adj&gt;|&lt;adj&gt; &lt;adjp&gt;
&lt;adj&gt;::=big|fat|green|wonderful|faulty|subliminal|pretentious
&lt;n&gt;::=dog|cat|man|university|father|mother|child|television
&lt;pn&gt;::=John|Jane|Sally|Spot|Fred|Elmo
&lt;vp&gt;::=&lt;tv&gt; &lt;np&gt;|&lt;iv&gt;
&lt;tv&gt;::=hit|honored|kissed|helped
&lt;iv&gt;::=died|collapsed|laughed|wept
</pre>
<div class="caption">Sample input file <span class="filename">sentence.txt</span></div>

<p>
	This grammar's language can represent sentences such as "The fat university laughed" and "Elmo kissed a green pretentious television".
	This grammar cannot describe the sentence "Stuart kissed the teacher" because the words "Stuart" and "teacher" are not part of the grammar.
	It also cannot describe "fat John collapsed Spot" because there are no rules that permit an adjective before the proper noun "John", nor an object after intransitive verb "collapsed".
</p>

<p>
	Though the non-terminals in the previous example language are surrounded by <code>&lt; &gt;</code>, this is not required.
	By definition any token that ever appears on the left side of the <code>::=</code> of any line is considered a non-terminal, and any token that appears only on the right-hand side of <code>::=</code> in any line(s) is considered a terminal.
	Do not assume that non-terminals will be surrounded by <code>&lt; &gt;</code> in your code.
	Each line's non-terminal will be a non-empty string that does not contain any whitespace.
	You may assume that individual tokens in a rule are separated by a single space, and that there will be no outer whitespace surrounding a given rule or token.
</p>

<p>
	Your <code>grammarGenerate</code> function will perform two major tasks:
</p>

<ol>
	<li>
		<strong>read an input file</strong> with a grammar in Backus-Naur Form and turns its contents into a data structure;  and
	</li>
	<li>
		<strong>randomly generate elements</strong> of the grammar  (<strong>recursively</strong>)
	</li>
</ol>

<p>
	You may want to separate these steps into one or more <strong>helper function</strong>(s), each of which performs one step.
	It is important to segregate the recursive part of the algorithm away from the non-recursive part.
</p>

<p>
	You are given a client program that does the user interaction.
	The <code>main</code> function supplies you with an input file stream to read the BNF file.
	Your code must read in the file's contents and break each line into its symbols and rules so that it can generate random elements of the grammar as output.
	When you generate random elements, you store them into a <code>Vector</code> which is returned.
	The provided main program loops over the vector and prints the elements stored inside it.
</p>


<hr>

<h2 id="logs">Example Logs of Execution:</h2>

<p>
	Your program should exactly reproduce the format and general behavior demonstrated in this log, although you may not exactly recreate this scenario because of the randomness that your code performs.
	(Don't forget to use the course File → Compare Output... feature in the console, or the course web site's Output Comparison Tool, to check output for various test cases.)
</p>

<pre class="output">Grammar file name? <span class="userinput">sentence.txt</span>
Symbol to generate (Enter to quit)? <span class="userinput">&lt;dp&gt;</span>
How many to generate? <span class="userinput">3</span>

 1: the
 2: the
 3: a
</pre>

<pre class="output">Symbol to generate (Enter to quit)? <span class="userinput">&lt;np&gt;</span>
How many to generate? <span class="userinput">5</span>

 1: a wonderful father
 2: the faulty man
 3: Spot
 4: the subliminal university
 5: Sally
</pre>

<pre class="output">Symbol to generate (Enter to quit)? <span class="userinput">&lt;s&gt;</span>
How many to generate? <span class="userinput">7</span>

 1: a green green big dog honored Fred
 2: the big child collapsed
 3: a subliminal dog kissed the subliminal television
 4: Fred died
 5: the pretentious fat subliminal mother wept
 6: Elmo honored a faulty television
 7: Elmo honored Elmo
</pre>

<p>
	<em>Expected output:</em>
	Here are some additional expected output files to compare.
	It's hard to match the expected output exactly because it is random.
	But your function should return valid random results as per the grammar that was given to it.
	Your program's graphical Console window has a File → Compare Output feature for checking your output.
</p>

<ul class="filelist">
	<li><a href="http://web.stanford.edu/class/cs106b/assnFiles/recursion/output/grammarsolver-expected-output-1.txt"><img class="icon" src="./CS106B Assignment 3B Grammar Solver_files/icon_txt.gif" alt="icon"> test #1</a> (sentence.txt)</li>
	<li><a href="http://web.stanford.edu/class/cs106b/assnFiles/recursion/output/grammarsolver-expected-output-2.txt"><img class="icon" src="./CS106B Assignment 3B Grammar Solver_files/icon_txt.gif" alt="icon"> test #2</a> (sentence2.txt)</li>
	<li><a href="http://web.stanford.edu/class/cs106b/assnFiles/recursion/output/grammarsolver-expected-output-3.txt"><img class="icon" src="./CS106B Assignment 3B Grammar Solver_files/icon_txt.gif" alt="icon"> test #3</a> (expression.txt)</li>
</ul>

<p>
	We have also written a <strong>Grammar Verifier</strong> web tool where you can paste in the randomly generated sentences and phrases from your program, and our page will do its best to validate that they are legal phrases that could have come from the original grammar file.
	This isn't a perfect test, but it is useful for finding some kinds of mistakes and bugs.
</p>

<div><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#"><strong>Grammar Verifier Tool</strong> (click to show)</a><div class="grammarverifierarea clicktoshow" rel="Grammar Verifier Tool" style="display: none;">
[an error occurred while processing this directive]
[an error occurred while processing this directive]

<style type="text/css">
.pass {
	background-color: #bfb;
}

.fail {
	background-color: #fbb;
}
</style>

<script type="text/javascript">
(function() {
	/** Deletes whitespace from the front and end of the given string. */
	if (typeof(String.prototype.trim) === "undefined") {
		String.prototype.trim = function() {
			var result = this;
			for (var k = 0; k < result.length && result.charAt(k) <= " "; k++) {}
			var result = result.substring(k, result.length);

			for (var j = result.length - 1; j >= 0 && result.charAt(j) <= " "; j--) {}
			result = result.substring(0, j + 1);
			return result;
		};
	}


	var LENIENT = true;

	var SPACE = " ";
	if (LENIENT) {
		SPACE = "[ \t]+";
	}

	var REGEXES = [];

	REGEXES["<dp>"] = "(the|a)";
	REGEXES["<n>"] = "(dog|cat|man|university|father|mother|child|television)";
	REGEXES["<pn>"] = "(John|Jane|Sally|Spot|Fred|Elmo)";
	REGEXES["<tv>"] = "(hit|honored|kissed|helped)";
	REGEXES["<iv>"] = "(died|collapsed|laughed|wept)";
	REGEXES["<adj>"] = "(big|fat|green|wonderful|faulty|subliminal|pretentious)";

	REGEXES["<adjp>"] = "(" + REGEXES["<adj>"] + "(" + SPACE + REGEXES["<adj>"] + ")*)";

	REGEXES["<np>"] = "((" + REGEXES["<dp>"] + SPACE + REGEXES["<adjp>"] + SPACE +
			REGEXES["<n>"] + ")" + "|" + REGEXES["<pn>"] + ")";

	REGEXES["<vp>"] = "(((" + REGEXES["<tv>"] +
			SPACE + REGEXES["<np>"] + "))" +
			"|" + REGEXES["<iv>"] + ")";

	REGEXES["<s>"] = REGEXES["<np>"] + SPACE + REGEXES["<vp>"];


	window.addEventListener("load", function() {
		document.getElementById("output").addEventListener("change", delayedCheckOutput);
		document.getElementById("output").addEventListener("keyup", delayedCheckOutput);
		document.getElementById("output").addEventListener("focus", delayedCheckOutput);
		document.getElementById("output").addEventListener("blur", delayedCheckOutput);
		document.getElementById("symbol").addEventListener("change", checkOutput);

		document.getElementById("evaluate").addEventListener("click", expressionEvaluate);
		document.getElementById("expression").addEventListener("keyup", delayedExpressionEvaluate);
		document.getElementById("expression").addEventListener("focus", delayedExpressionEvaluate);
		document.getElementById("expression").addEventListener("blur", delayedExpressionEvaluate);
		document.getElementById("expression").addEventListener("change", delayedExpressionEvaluate);

		checkOutput();
	});

	function delayedCheckOutput(event) {
		setTimeout(checkOutput, 20);
	}

	function delayedExpressionEvaluate(event) {
		setTimeout(expressionEvaluate, 20);
	}

	function checkOutput(event) {
		var regex = REGEXES[document.getElementById("symbol").value];

		var pass = true;
		var lines = document.getElementById("output").value.trim().split(/\r?\n/);
		for (var i = 0; i < lines.length && pass; i++) {
			var line = lines[i];
			if (LENIENT) {
				line = line.trim();

				// remove numbers from start of lines
				if (line.match(/^[0-9]+: /)) {
					line = line.replace(/^[0-9]+: /, "");
				}
			}
			if (!line) {   // skip blank lines
				continue;
			}

			pass = pass && line.match(new RegExp("^" + regex + "$"));
		}

		document.getElementById("output").className = pass ? "pass" : "fail";
		document.getElementById("resultmessage").innerHTML = (pass ? "pass" : "fail");
	}

	function expressionEvaluate(event) {
		var expr = document.getElementById("expression").value.trim();
		// F1::=   sin    | cos|    tan  |sqrt   | abs
		// F2::=max         |min       |   pow
		expr = expr.replace(/sin/g, "Math.sin");
		expr = expr.replace(/cos/g, "Math.cos");
		expr = expr.replace(/tan/g, "Math.tan");
		expr = expr.replace(/sqrt/g, "Math.sqrt");
		expr = expr.replace(/abs/g, "Math.abs");
		expr = expr.replace(/max/g, "Math.max");
		expr = expr.replace(/min/g, "Math.min");
		expr = expr.replace(/pow/g, "Math.pow");

		// variables that can be used in the expressions
		var x = 1;
		var y = 2;

		try {
			var result = eval(expr);
			document.getElementById("expressionresult").innerHTML = ("pass: " + result);
			document.getElementById("expression").className = "pass";
		} catch (e) {
			document.getElementById("expressionresult").innerHTML = ("fail: " + e);
			document.getElementById("expression").className = "fail";
		}
	}
})();
</script>


<h2>CS 106B/X Grammar Verifier</h2>

<p>
	Paste your <code>sentence.txt</code> output line(s) below to see whether they match the format required by the grammar.
</p>

<div>
	<fieldset style="width: 10em; margin-bottom: 1em; margin-right: 2em; float: left;">
		<legend>Symbol:</legend>
		<select id="symbol" size="10" style="width: 7em">
			<option value="&lt;s&gt;" selected="selected">&lt;s&gt;</option>
			<option value="&lt;np&gt;">&lt;np&gt;</option>
			<option value="&lt;dp&gt;">&lt;dp&gt;</option>
			<option value="&lt;adjp&gt;">&lt;adjp&gt;</option>
			<option value="&lt;adj&gt;">&lt;adj&gt;</option>
			<option value="&lt;n&gt;">&lt;n&gt;</option>
			<option value="&lt;pn&gt;">&lt;pn&gt;</option>
			<option value="&lt;vp&gt;">&lt;vp&gt;</option>
			<option value="&lt;tv&gt;">&lt;tv&gt;</option>
			<option value="&lt;iv&gt;">&lt;iv&gt;</option>
		</select>
	</fieldset>

	<fieldset style="margin-bottom: 1em; float: left;">
		<legend>Your <code>grammarGenerate</code> output:</legend>
		<textarea id="output" rows="15" cols="80" wrap="off" class="pass">Elmo wept
Jane kissed Fred
</textarea> <br>
		<span id="resultmessage">pass</span>
	</fieldset>
</div>

<p style="clear: left; padding-top: 2em">
	Expression evaluator: Paste your expressions.txt <code>E</code> output below to evaluate it to see whether you have created a legal expression.
</p>

<div>
	<input id="expression" type="text" size="100">
	<button id="evaluate">Evaluate</button> <br>
	<span id="expressionresult">&nbsp;</span>
</div>

<script src="./CS106B Assignment 3B Grammar Solver_files/grammarverifier.js.下载" type="text/javascript"></script>


<!-- not including common HW footer text -->

		</div></div> <!-- mainarea -->
	

<hr>
</div>


<p>
	Now that you've seen an example of the program's behavior, let's dive into the implementation details of your algorithm.
</p>


<h3 id="part1">Part 1: Reading the Input File</h3>

<p>
	For this program you must store the contents of the grammar into a <code>Map</code>.
	As you know, maps keep track of key/value pairs, where each key is associated with a particular value.
	In our case, we want to store information about each non-terminal symbol.
	So the non-terminal symbols become keys and their rules become values.
	Other than the <code>Map</code> requirement, you are allowed to use whatever constructs you need from the Stanford C++ libraries.
	You don't need to use recursion on this part of the algorithm; just loop over the file as needed to process its contents.
</p>

<p>
	One problem you will have to deal with early in this program is breaking strings into various parts.
	To make it easier for you, the Stanford library's <a class="popup" target="_blank" href="http://stanford.edu/~stepp/cppdoc/strlib.html"><code>"strlib.h"</code></a> library provides a <code>stringSplit</code> function that you can use on this assignment:
</p>

<pre class="cpp">Vector&lt;string&gt; <strong>stringSplit</strong>(string s, string delimiter)
</pre>

<p>
	The string split function breaks a large string into a <code>Vector</code> of smaller string tokens; it accepts a delimiter string parameter and looks for that delimiter as the divider between tokens.
	Here is an example call to this function:
</p>

<pre class="cpp">string s = "example;one;two;;three";
Vector&lt;string&gt; v = stringSplit(s, ";");   <span class="comment">// {"example", "one", "two", "", "three"}</span>
</pre>

<p>
	The parts of a rule will be separated by whitespace, but once you've split the rule by spaces, the spaces will be gone.
	If you want spaces between words when generating strings to return, you must concatenate those yourself.
	If you find that a string has unwanted spaces around its edges, you can remove them by calling the <code>trim</code> function, also from <code>"strlib.h"</code>:
</p>

<pre class="cpp">string s2 = "  hello there  sir  ";
s2 = trim(s2);                            <span class="comment">// "hello there  sir"</span>
</pre>


<h3 id="part2">Part 2: Generating Random Expansions from the Grammar</h3>

<p>
	As mentioned previously, producing random grammar expansions is a two-step process.
	The first step involves reading the input grammar file and turning it into an appropriate data structure (non-recursively).
	The second step involves recursively walking that data structure to generate elements by successively expanding them.
</p>

<p>
	Generate elements of a grammar with a <strong>recursive algorithm</strong>.
	To generate a random occurrence of a symbol <em>S</em>:
</p>

<ul>
	<li>
		If <em>S</em> is a terminal symbol, there is nothing to do;  the result is the symbol itself.
	</li>
	<li>
		If <em>S</em> is a non-terminal symbol, choose a random expansion rule <em>R</em> for <em>S</em>,
		and for each of the symbols in that rule <em>R</em>, generate a random occurrence of that symbol.
	</li>
</ul>

<p>
	For example, the grammar on the previous page could be used to randomly generate a <code>&lt;s&gt;</code> non-terminal for the sentence, <code>"Fred honored the green wonderful child"</code>, as shown in the following diagram.
</p>

<div>
	<div class="figure">
            <img src="./CS106B Assignment 3B Grammar Solver_files/fred-honored-sentence-diagram.png" alt="sentence diagram">
	</div>
	<div class="caption">Random expansion from sentence.txt grammar for symbol &lt;s&gt;</div>
</div>

<p>
	If the string passed to your function is a non-terminal in your grammar, use the grammar's rules to <em>recursively</em> expand that symbol fully into a sequence of terminals.
	For example, using the grammar on the previous pages, a call of <code>grammarGenerate("&lt;np&gt;")</code> might potentially return the string, <code>"the green wonderful child"</code>.
</p>

<p>
	Generating a non-terminal involves picking one of its rules at random and then generating each part of that rule, which might involve more non-terminals to recursively generate.
	For each of these you pick rules at random and generate each part, etc.
</p>

<p>
	When you encounter a terminal, simply include it in your string.
	This becomes a base case.
	If the string passed to your function is not a non-terminal in your grammar, you should assume that it is a terminal symbol and simply return it.
	For example, a call of <code>grammarGenerate("green")</code> should just return <code>"green"</code>.
	<em>(Without any spaces around it.)</em>
</p>

<p>
	<em>Special cases to handle:</em>
	You should throw a string <strong>exception</strong> if the grammar contains more than one line for the same non-terminal.
	For example, if two lines both specified rules for symbol <code>"&lt;s&gt;"</code>, this would be illegal and should result in the exception being thrown.
	You should throw a string exception if the symbol parameter passed to your function is empty, <code>""</code>.
</p>

<p>
	<em>Testing:</em>
	The provided input files and <code>main</code> may not test all of the above cases; it is your job to come up with tests for them.
</p>

<p>
	Your function may assume that the input file exists, is non-empty, and is in a proper valid format.
	If the number of times passed is 0 or less, return an empty vector.
</p>


<hr>

<h2 id="implementation">Implementation Details:</h2>

<p>
	The hardest part is the recursive generation, so make sure you have read the input file and built your data structure properly before tackling the recursive part.
</p>

<p>
	Loops are <em>not</em> forbidden in this part of the assignment.
	In fact, you should definitely use loops for some parts of the code where they are appropriate.
	The directory crawler example from class uses a for-each loop.
	This is perfectly acceptable; if you find that part of this problem is easily solved with a loop, please use one.
	In the directory crawler, the hard part was traversing all of the different sub-directories, and that's where we used recursion.
	For this program the hard part is following the grammar rules to generate all the parts of the grammar, so that is the place to use recursion.
	If your recursive function has a bug, try putting a <code>cout</code> statement at the start of your recursive function that prints its parameter values, to see the calls being made.
	Look up the <code>randomInteger</code> function from <a class="popup" target="_blank" href="http://stanford.edu/~stepp/cppdoc/random.html"><code>"random.h"</code></a> to help you make random choices between rules.
</p>

<hr>


<h2 id="style">Style Details:</h2>

<p>
	<em>(These are the same as in the Fractals problem.)</em>
</p>

<p>
	As in other assignments, you should follow our <a class="popup" href="http://web.stanford.edu/class/styleguide.shtml"><strong>Style Guide</strong></a> for information about expected coding style.
	You are also expected to follow all of the general style constraints emphasized in the Homework 1 and 2 specs, such as the ones about good problem decomposition, parameters, using proper C++ idioms, and commenting.
	The following are additional points of emphasis and style contraints specific to this problem:
</p>

<p>
	<em>Recursion:</em>
	Part of your grade will come from appropriately utilizing recursion to implement your algorithm as described previously.
	We will also grade on the elegance of your recursive algorithm; don't create special cases in your recursive code if they are not necessary.
	Avoid "arm's length" recursion, which is where the true base case is not found and unnecessary code/logic is stuck into the recursive case.
	<strong>Redundancy</strong> in recursive code is another major grading focus; avoid repeated logic as much as possible.
	As mentioned previously, it is fine (sometimes necessary) to use "helper" functions to assist you in implementing the recursive algorithms for any part of the assignment.
</p>

<p>
	<em>Variables:</em>
	While not new to this assignment, we want to stress that you should not make any global or static variables (unless they are constants declared with the <code>const</code> keyword).
	Do not use globals as a way of getting around proper recursion and parameter-passing on this assignment.
</p>


<h2 id="creative">Creative Aspect, <span class="filename">mygrammar.txt</span>:</h2>

<p>
	Along with your code, submit a file <span class="filename">mygrammar.txt</span> that contains a BNF grammar that can be used as input.
	For full credit, the file should be in valid BNF format, contain at least 5 non-terminals, and should be your own work (do more than just changing the terminal words in <span class="filename">sentence.txt</span>, for example).
	This is worth a small part of your grade.
</p>


<h2 id="faq">Frequently Asked Questions (FAQ):</h2>

<p>
	For each assignment problem, we receive various frequent student questions.
	The answers to some of those questions can be found by clicking the link below.
</p>

<div><a href="http://web.stanford.edu/class/cs106b/assn/grammarSolver.html#"><strong>Grammar Solver FAQ</strong> (click to show)</a><div class="faqarea clicktoshow" rel="Grammar Solver FAQ" style="display: none;">
[an error occurred while processing this directive]<dl>
	<dt id="prototypes">
		Q: I'd like to write a helper function and declare a prototype for it, but am I allowed to modify the .h file to do so?
	</dt>
	<dd>
		A: Function prototypes don't have to go in a .h file.
		Declare them near the top of your .cpp file and it will work fine.
	</dd>

	<dt id="unexpectedlyfinished">
		Q: What does it mean if my program "unexpectedly finishes"?
	</dt>
	<dd>
		A: It probably means that you have infinite recursion, which usually comes when you have not set a proper base case, or when your recursive calls don't pass the right parameters between each other.
		Try running your program in Debug Mode (F5) and viewing the call stack trace when it crashes to see what line it is on when it crashed.
	</dd>

	<dt id="exceptions">
		Q: The spec says that I need to throw an exception in certain cases.
		But it looks like the provided <code>main</code> program never goes into those cases; it checks for that case before ever calling my function.
		Doesn't that mean the exception is useless?
		Do I actually have to do the exception part?
	</dt>
	<dd>
		A: The exception is not useless, and yes you do need to do it.
		Understand that your code might be used by other client code other than that which was provided.
		You have to ensure that your function is robust no matter what parameter values are passed to it.
		Please follow the spec and throw the exceptions in the cases specified.
	</dd>


	<dt id="grammar">
		Q: I am confused about grammars; what this assignment is about?
	</dt>
	<dd>
		A: In terms of this assignment, a grammar is a set of rules that corresponds to a sybmol.  For instance, the <strong>adj</strong> grammar relates to many different adjectives like purple, loud, sticky, and fake.  To put it simply, one grammar has many rules.  This relationship is also known as <strong>non-terminal</strong> to <strong>terminal</strong>. For this assignment, we want you to navigate through these grammars and create them. Notice that some grammars have grammars in their rule sets as well.  Upon encountering this situation, remember that it is a grammar that needs to be generated as well.<br><br>
Take a look at the decision tree in the assignment specifications, this should help give you a visualization of the problem at hand. 
	</dd>
	<dt id="mapdata">
		Q: What type of data should my <code>Map</code> store?
	</dt>
	<dd>
		A: Unforutantely, this aspect of the assignment is up to you to figure out.  Remember the functions you're going to have to call, along with the idea of a grammar and how it relates to its rules.
	</dd>
	<dt id="split">
		Q: I'm having trouble breaking apart the strings.
	</dt>
	<dd>
		A: Use the provided <code>stringSplit</code> function.  Print lots of debug messages to make sure that your split calls are doing what you think they are.
	</dd>
	<dt id="symbolswithoutbrackets">
		Q: How do I spot nonterminal symbols if they don't start/end with "&lt;" and "&gt;"?
	</dt>
	<dd>
		A: The "&lt;" and "&gt;" symbols are not special cases you should be concerned with.  Treat them as you would any other symbol, word, or character.
	</dd>
	<dt id="spaces">
		Q: Spaces are in the wrong places in my output.  Why?
	</dt>
	<dd>
		A: Try using other characters like "_", "~", or "!" instead of spaces to find out where there's extra whitespaces.  Also remember that you can use the <code>trim</code> function to remove surrounding whitespace from strings.
	</dd>
	<dt id="debugging">
		Q: How do I debug my recursive function?
	</dt>
	<dd>
		A: Try using print statements to find out which grammar symbols are being generated at certain points in your program.  Try before and after your recursive step as well as in your base case.
	</dd>
	<dt id="joinpieces">
		Q: In my recursive case, why doesn't it join together the various pieces correctly?
	</dt>
	<dd>
		A: Remember that setting a string = to another variable within a recursive step will not translate in all instances of that function.  Be sure to actively add onto your <code>string</code> instead of reassigning it.
	</dd>
	<dt id="redundancy">
		Q: My recursive function is really long and icky.  How can I make it cleaner?
	</dt>
	<dd>
		A: Remind yourself of the strategy in approaching recursive solutions.  When are you stopping each recursive call?  Make sure you're not making any needless or redundant checks inside of your code.
	</dd>
	<dt id="expression">
		Q: When I run expression.txt, I get really long math expressions?  Is that okay?
	</dt>
	<dd>
		A: Yes, that's expected.
	</dd>





	
	<dt id="unexpectedlyfinished2">
		Q: What does it mean if my program "unexpectedly finishes"?
	</dt>
	<dd>
		A: It might mean that you have infinite recursion, which usually comes when you have not set a proper base case, or when your recursive calls don't pass the right parameters between each other.
		Try running your program in Debug Mode (F5) and viewing the call stack trace when it crashes to see what line it is on when it crashed.
		You could also try printing a message at the start of every call to make sure that you don't have infinite recursion.
		
		<p>
			If you are certain that you do not have infinite recursion, it is possible that there are just too many calls on the call stack because you are filling a very large area of the screen.
			If you tried to fill the whole screen with the same color, it might crash with a "stack overflow" even if your algorithm is correct.
			This would not be your fault.
		</p>
	</dd>

	<dt id="stl">
		Q: Can I use one of the STL containers from the C++ standard library?
	</dt>
	<dd>
		A: No.
	</dd>

	<dt id="advancedmaterial">
		Q: I already know a lot of C/C++ from my previous programming experience.
		Can I use advanced features, such as pointers, on this assignment?
	</dt>
	<dd>
		A: No; you should limit yourself to using the material that was taught in class so far.
	</dd>

	<dt id="files">
		Q: Can I add any other files to the program?
		Can I add some classes to the program?
	</dt>
	<dd>
		A: No; you should limit yourself to the files and functions in the spec.
	</dd>
</dl>
</div></div>


<h2 id="extrafeatures">Possible Extra Features:</h2>

<p>
	Here are some ideas for extra features that you could add to your program:
</p>

<ul class="extrafeatureslist">
	<li>
		<strong>Robust grammar solver:</strong>
		Make your grammar solver able to handle files with excessive whitespace placed between tokens, such as:
		<pre>"  &lt;adjp&gt; ::=   &lt;adj&gt; |    &lt;adj&gt;    &lt;adjp&gt;  "
</pre>
	</li>
	<li>
		<strong>Inverse grammar solver:</strong>
		Write code that can verify whether a given expansion could possibly have come from a given grammar.
		For example, "The fat university laughed" could come from <span class="filename">sentence.txt</span>, but "Marty taught the curious students" could not.
		To answer such a question, you may want to generate all possible expansions of a given length that could come from a grammar, and see whether the given expansion is one of them.
		This is a good use of recursive backtracking and exhaustive searching.
		(This is tricky.)
	</li>
	<li>
		<strong>Other:</strong>
		If you have your own creative idea for an extra feature, ask your SL and/or the instructor about it.
	</li>
</ul>

<p>
	<em>Indicating that you have done extra features:</em>
	If you complete any extra features, then in the comment heading on the top of your program, please list all extra features that you worked on and where in the code they can be found (what functions, lines, etc. so that the grader can look at their code easily).
</p>

<p>
	<em>Submitting a program with extra features:</em>
	Since we use automated testing for part of our grading process, it is important that you submit a program that conforms to the preceding spec, even if you want to do extra features.
	If your feature(s) cause your program to change the output that it produces in such a way that it no longer matches the expected sample output test cases provided, you should submit two versions of your program file:
	a first one with the standard file name without any extra features added (or with all necessary features disabled or commented out), and a second one whose file name has the suffix <span class="filename">-extra.cpp</span> with the extra features enabled.
	Please distinguish them in by explaining which is which in the comment header.
	Our turnin system saves every submission you make, so if you make multiple submissions we will be able to view all of them; your previously submitted files will not be lost or overwritten.
</p>
                        </div>
                </div>
		<div class="row" style="margin-bottom:25px">
                        <div class="col-sm-12">
			</div>
		</div>



<div class="row">
	<div class="col-md-12">
		<hr>

		<div class="footer">
			<p class="pull-left">
				© Stanford 2017 | Created by Chris Gregg.
				CS106B has been developed over decades by many talented teachers. 
			</p>
		</div>
	</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-74362126-1', 'auto');
  ga('send', 'pageview');

</script>

	

	<script>
		$('.editor').each(function( index ) {
			var editor = ace.edit(this);
			editor.setTheme('ace/theme/eclipse');
		   editor.getSession().setMode("ace/mode/c_cpp");
		   editor.setReadOnly(true);
		   editor.setShowPrintMargin(false);
		   editor.renderer.setShowGutter(false); 
		   editor.setOptions({
			    maxLines: Infinity,
			    fontSize: "10pt"
			});
		   editor.setOption("highlightActiveLine", false);
		});
	</script>


</body></html>